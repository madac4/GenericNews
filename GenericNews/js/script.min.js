const searchButton=document.querySelector(".header-buttons__search"),searchModal=document.querySelector(".search-modal"),searchInput=document.getElementById("search"),searchClose=document.querySelector(".search-close"),overlay=document.querySelector(".overlay"),languageToggler=document.querySelector(".language-toggler"),username=document.getElementById("username"),email=document.getElementById("email"),emailRegister=document.getElementById("email-register"),password=document.getElementById("password"),passwordRegister=document.getElementById("password-register"),loginForm=document.getElementById("login-form"),registerForm=document.getElementById("register-form"),passwordToggler=document.getElementById("password-toggler"),passwordToggler2=document.getElementById("password-toggler2"),authModal=document.querySelector(".auth-modal"),authClose=document.querySelector(".auth-close"),authOpen=document.querySelector(".header-buttons__login"),authModalControls=document.querySelector(".auth-modal__controls"),authTabsControl=document.querySelectorAll(".auth-modal__controls .tabs-control"),authTabsForm=document.querySelectorAll(".auth-form");function loginFormValidation(){const e=email.value.indexOf("@"),t=email.value.lastIndexOf(".");e<1||t<e+2||t+2>=email.value.length?email.nextElementSibling.textContent="Emailul nu este valid":email.nextElementSibling.textContent="",password.value.length<6?password.nextElementSibling.textContent="Parola trebuie sa contina 6 caractere sau mai mult":password.nextElementSibling.textContent=""}function registerFormValidation(){const e=emailRegister.value.indexOf("@"),t=emailRegister.value.lastIndexOf(".");null==username.value||""==username.value?username.nextElementSibling.textContent="Username nu poate fi gol":username.value.length<4?username.nextElementSibling.textContent="Trebuie să conțină cel puțin 4 caractere, fără diacritice":username.nextElementSibling.textContent="",e<1||t<e+2||t+2>=emailRegister.value.length?emailRegister.nextElementSibling.textContent="Emailul nu este valid":emailRegister.nextElementSibling.textContent="",passwordRegister.value.length<6?passwordRegister.nextElementSibling.textContent="Parola trebuie sa contina 6 caractere sau mai mult":passwordRegister.nextElementSibling.textContent=""}languageToggler&&languageToggler.addEventListener("click",()=>{"ro"===languageToggler.getAttribute("data-language")?(languageToggler.dataset.language="ru",languageToggler.textContent="ru"):(languageToggler.dataset.language="ro",languageToggler.textContent="ro")}),searchModal&&(searchButton.addEventListener("click",(function(){searchModal.classList.add("open"),setTimeout(()=>{searchInput.focus()},50)})),searchClose.addEventListener("click",()=>{searchModal.classList.remove("open")})),passwordToggler&&(passwordToggler.addEventListener("click",(function(e){const t="password"===password.getAttribute("type")?"text":"password";password.setAttribute("type",t),this.classList.toggle("icon-eye-slash")})),passwordToggler2.addEventListener("click",(function(e){const t="password"===passwordRegister.getAttribute("type")?"text":"password";passwordRegister.setAttribute("type",t),this.classList.toggle("icon-eye-slash")}))),"none"!==loginForm.style.display&&loginForm.addEventListener("submit",e=>{e.preventDefault(),loginFormValidation()}),"none"!==registerForm.style.display&&registerForm.addEventListener("submit",e=>{e.preventDefault(),registerFormValidation()}),authTabsControl&&authModalControls.addEventListener("click",e=>{const t=e.target.dataset.tab;console.log(t),authTabsControl.forEach(e=>{e.classList.remove("active")}),e.target.classList.add("active"),authTabsForm.forEach(e=>{e.classList.remove("active")});document.getElementById(t).classList.add("active")}),authModal&&(authOpen.addEventListener("click",()=>{authModal.classList.add("open"),overlay.classList.add("open")}),authClose.addEventListener("click",()=>{authModal.classList.remove("open"),overlay.classList.remove("open")}));